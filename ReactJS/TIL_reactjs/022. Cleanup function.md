## ğŸ– 00. ë“¤ì–´ê°€ê¸°
- useEffectë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±(create)ë  ë•Œ ì½”ë“œë¥¼ ì‹¤í–‰ ì‹œí‚¬ ìˆ˜ ìˆì—ˆë‹¤ (ì•„ë˜ ì„ ë¬¼ ì´ëª¨ì§€)
- ê·¸ëŸ¼, componentê°€ ì‚¬ë¼ì§ˆ ë•Œë„ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆì„ê¹Œ?
## ğŸ“Œ 01. ê°œë… ì„¤ëª…
- hide
## ğŸ³ 02. ì½”ë“œ ë¶„ì„
```js
import { useState, useEffect } from "react";
function Hello() {
  useEffect(() => {
    console.log("i'm here"); <------- ğŸ ì´ ì¤„ì€ componentê°€ ì²˜ìŒ ìƒì„±ë  ë•Œë§Œ ì‹¤í–‰ëœë‹¤. (ì»´í¬ë„ŒíŠ¸ê°€ ì‹¤í–‰ë  ë•Œ ì½”ë“œ ì‹¤í–‰)
  }, []);    <----------ì²˜ìŒ í•œë²ˆë§Œ ì‹¤í–‰ë˜ì•¼í•˜ëŠ”ë° hideë  ë•Œ ì»´í¬ë„ŒíŠ¸ê°€ null ë˜ê³  ë‹¤ì‹œ ë²„íŠ¼ ëˆ„ë¥´ë©´ ìƒì„±ë˜ë‹ˆ console.logê°€ ì°íŒë‹¤.
  return <h1>Hello</h1>;
}
function App() {
  const [showing, setShowing] = useState(false);
  const onClick = () => setShowing((prev) => !prev);
  return (
    <div>
      {showing ? <Hello /> : null} <------- {} ì¤‘ê´„í˜¸, showingì´ trueë¼ë©´ <Hello /> ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤. (ëŒ€ë¬¸ìë¡œ ì¨ì•¼í•œë‹¤)
      <button onClick={onClick}>{showing ? "Hide" : "Show"}</button>
    </div>
  );
}

export default App;
```
![image](https://user-images.githubusercontent.com/86208370/177374052-64d6c5c9-1bda-4f8f-a640-eb522799514d.png)
![image](https://user-images.githubusercontent.com/86208370/177374113-736986b2-0933-4329-b96f-1528a5dc2631.png)

```js
- hello componentë¥¼ hideí•  ë•ŒëŠ” componentë¥¼ screenì—ì„œ ì§€ì›Œì£¼ê³  ìˆë‹¤.
- (ì¤‘ìš”) ê·¸ë˜ì„œ ë‹¤ì‹œ ë³´ì—¬ì¤„ ë•ŒëŠ”. console.logë„ ë‹¤ì‹œ ì‘ë™í•œë‹¤
- ì•„ì˜ˆ <Hello /> ì»´í¬ë„ŒíŠ¸ê°€ HTMLì—ì„œ ì—†ì–´ì¡Œë‹¤.(ì‚­ì œ)
- ì‚­ì œë˜ê³  ë‹¤ì‹œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ <Hello /> ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ìƒì„±ë˜ë‹ˆ useEffectì˜ dependency []ì— ì˜í•´ ì½˜ì†” ë¡œê·¸ê°€ ì°íŒë‹¤  console.log("i'm here");
- (ì¶”ê°€ì ìœ¼ë¡œ) ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” {} ì¤‘ê´„í˜¸ë¥¼ ì‚¬ìš©í•œë‹¤.
- showing(state)ê°€ ë³€ê²½(ë°”ë€”) ë•Œ function App() { } ì¤‘ê´„í˜¸ ì•ˆì— ì½”ë“œê°€ ì¬ì‹¤í–‰ë˜ê³  ëª¨ë“  componentê°€ ë°”ë€ë‹¤. 
### ìš°ë¦¬ëŠ” componentë¥¼ ì—†ì• ë²„ë¦¬ê±°ë‚˜(destory), ìƒì„±(create)í•˜ê³  ìˆë‹¤.
```
## cleanup function
### componentê°€ destoy ë  ë•Œë„ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë°©ë²• -> functionì„  retunr í•´ì¤€ë‹¤.
## cleanup function í‘œí˜„ë°©ë²• 1) useEffectì— í•¨ìˆ˜ë‚´ìš© ë„£ê¸°
```js
import { useState, useEffect } from "react";
function Hello() {
  useEffect(() => {
    console.log("created");
    return () => console.log("destroyed: ("); <---------- ğŸˆ ì´ ì½”ë“œ, destroyë  ë•Œ ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤. (destroyí•  ë•Œ function ì‹¤í–‰) => cleanup function
  }, []);
  return <h1>Hello</h1>;
}
function App() {
  const [showing, setShowing] = useState(false);
  const onClick = () => setShowing((prev) => !prev);
  return (
    <div>
      {showing ? <Hello /> : null}
      <button onClick={onClick}>{showing ? "Hide" : "Show"}</button>
    </div>
  );
}

export default App;
```
```js
// useEffect( () => { }, [] ) ë³´ë©´ () => { } arrow funcitonì˜¤ë¡œ ë‚˜íƒ€ëƒ„
 useEffect(() => {
    console.log("created");
    return () => console.log("destroyed: (");
  }, []);
```
```
- ìœ„ì˜ ì½”ë“œì—ì„œ Hideê°€ ì•„ë‹ˆë¼ ì½”ë“œ ì•ˆì— ì»´í¬ë„ŒíŠ¸ê°€<Hello /> ì•„ì˜ˆ ë‚¨ì•„ ìˆì§€ ì•ŠëŠ”ë‹¤(ì‚­ì œë˜ì—ˆë‹¤)
- ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œ "destoy" ì½˜ì†” ë¡œê·¸ë¡œ ì°ê³  ì‹¶ë‹¤.
- ê·¸ëŸ¬ê¸° ìœ„í•´ì„œ ìš°ë¦¬ê°€ í• ì¼ì€ functionì„  retunr í•´ì¤€ë‹¤.
- ìš°ë¦¬ê°€ í•  ê²ƒì€ ë‹¨ì§€ componentê°€ destoy ë  ë•Œ ì‹¤í–‰ ë  functionì„ í•˜ë‚˜ ë§Œë“œëŠ” ê±°ë‹¤.
- (cleanup functionì€ )ê·¸ëƒ¥ functionì¸ë°, componentê°€ destroyë  ë•Œ ë­”ê°€ í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, ëˆ„êµ°ê°€ëŠ” componentê°€ ì—†ì–´ì§ˆ ë•Œ, ì–´ë–¤ ë¶„ì„ ê²°ê³¼ë¥¼ ë³´ë‚´ê³  ì‹¶ì–´í•  ìˆ˜ë„ ìˆê³  (ë¶„ì„ api ë³´ë‚´ê¸°)
- ì•„ë‹ˆë©´ componentê°€ ì‚¬ë¼ì§€ê±°ë‚˜ ì—†ì–´ì§ˆ ë•Œ, event listenerë¥¼ ì§€ìš°ê±°ë‚˜, í˜¹ì€ console.logì— ë­”ê°€ ë³´ì—¬ì¤„ ìˆ˜ë„ ìˆë‹¤. (ë­ë“ ì§€ ë‹¤ ê°€ëŠ¥)
- ì¤‘ìš”í•œ ê±´, ì´ê±¸ë¡œ componentê°€ ì–¸ì œ create ëëŠ”ì§€, ì–¸ì œ destroy ëëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤ëŠ” ê±°ë‹¤.
- useEffectëŠ” functionì´ë‹¤.
```

## cleanup function í‘œí˜„ë°©ë²• 2) useEffectì— í•¨ìˆ˜ì´ë¦„ ë„£ê¸°
```js
import { useState, useEffect } from "react";
function Hello() {
  function effectFn() {
    console.log("created");
  }
  useEffect(effectFn, []); <-------------- ì—¬ê¸°
  return <h1>Hello</h1>;
}
function App() {
  const [showing, setShowing] = useState(false);
  const onClick = () => setShowing((prev) => !prev);
  return (
    <div>
      {showing ? <Hello /> : null}
      <button onClick={onClick}>{showing ? "Hide" : "Show"}</button>
    </div>
  );
}

export default App;

```
- createë  ë•Œë§Œ console ë¡œê·¸ ì°ê¸° 
- (useEffect ì•ˆì— í•¨ìˆ˜ëª… ë„£ì–´ì„œ í•˜ëŠ” ë°©ë²•)

```js
import { useState, useEffect } from "react";
function Hello() {
  function byFn() {
    console.log("bye : (");
  }
  function hiFn() {
    console.log("created");
    return byFn;   <------------ í•µì‹¬ (í•¨ìˆ˜ëª…ìœ¼ë¡œ ì“°ê³  ()ë¥¼ ë¶™ì´ì§€ ì•Šë„¤) 
  }
  useEffect(hiFn, []);
  return <h1>Hello</h1>;
}
function App() {
  const [showing, setShowing] = useState(false);
  const onClick = () => setShowing((prev) => !prev);
  return (
    <div>
      {showing ? <Hello /> : null}
      <button onClick={onClick}>{showing ? "Hide" : "Show"}</button>
    </div>
  );
}

export default App;

```
![image](https://user-images.githubusercontent.com/86208370/177392234-6a57ee63-ff1e-456c-806d-26a087e6ae33.png)

```
- componentê°€ íŒŒê´´ë  ë•Œ functionì„ ì‹¤í–‰í•˜ê³  ì‹¶ìœ¼ë©´ ìš°ë¦¬ì˜ effectFnì´ ìƒˆë¡œìš´ fucntionì„ return í•´ì•¼í•œë‹¤.
- ì´ <Hello /> componentê°€ ìƒì„±ë  ë•Œ, hiFnì´ ì‹¤í–‰ë ê±°ê³ , console.log("created"); ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤.
- ì´ <Hello /> componentê°€ ì–¸ì œ íŒŒê´´ë ì§€ë„ ì•Œê³  ì‹¶ìœ¼ë©´, hiFnì´ byFnì„ return í•´ì£¼ì–´ì•¼ í•œë‹¤.
- useEffectëŠ” functionì„ ë°›ê³  , ì´ fcunctionì€ dependencyê°€ ë³€í™”í•  ë•Œ í˜¸ì¶œëœë‹¤.
- useEffect(hiFn, []); ìœ„ì˜ ê²½ìš° , dependencyê°€ ê¸°ì–´ìˆìœ¼ë‹ˆê¹ componentê°€ ì²˜ìŒ ìƒì„±ë  ë•Œ functionì´ í˜¸ì¶œëœ í›„ì— ë‹¤ì‹œëŠ” í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤.
- ì´ì œ componentê°€ íŒŒê´´ë  ë•Œë„ functionì„ ì‹¤í–‰í•˜ê³  ì‹¶ìœ¼ë©´, hiFnì´ byFnì„ return í•´ì•¼í•œë‹¤.
- React.jsê°€ hiFnì„ ì‹¤í–‰ì‹œí‚¬ê±°ê³  componentê°€ íŒŒê´´ë ë•ŒëŠ” react.jsëŠ” hiFnì´ returní•œ functionì„ ì‹¤í–‰í• ê±°ë‹¤.
```
## âœ 03. ì „ì²´ ì½”ë“œ
```js
import { useState, useEffect } from "react";
function Hello() {
  function byFn() {
    console.log("bye : (");
  }
  function hiFn() {
    console.log("created");
    return byFn;
  }
  useEffect(hiFn, []);
  return <h1>Hello</h1>;
}
function App() {
  const [showing, setShowing] = useState(false);
  const onClick = () => setShowing((prev) => !prev);
  return (
    <div>
      {showing ? <Hello /> : null}
      <button onClick={onClick}>{showing ? "Hide" : "Show"}</button>
    </div>
  );
}

export default App;
```
## ğŸ“š 04. í•™ìŠµ ì •ë¦¬
```
- useEffectëŠ” ìš°ë¦¬ì—ê²Œ ì„ íƒê¶Œì„ ì œê³µí•œë‹¤.
- ì–¸ì œ codeë¥¼ ì‹¤í–‰í• ì§€ ë§ì´ì•¼
- ì²˜ìŒì—” ì‹œì‘í•  ë•Œë§Œ codeë¥¼ ì‹¤í–‰í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤ëŠ” ê±¸ ë°°ì› ê³  ë¬´ì–¸ê°€ ë³€í™”í•  ë•Œ ì½”ë“œ ì‹¤í–‰í•˜ëŠ” ê±¸ ë°°ì› ê³ 
- ì´ì œëŠ” componentê°€ íŒŒê´´ë  ë•Œ codeë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒë„ ë°°ì› ë‹¤. 
- react ì•±ì„ ë§Œë“¤ ë•Œ ì´ byFnì´ ì£¼ë¡œ í•„ìš”í•˜ì§€ëŠ” ì•Šë‹¤.

```
### 1ë²ˆì§¸ ë°©ë²• :ê°ì í•¨ìˆ˜ ë§Œë“¤ê¸°
```js
function Hello() {
  function byFn() {
    console.log("bye : (");
  }
  function hiFn() {
    console.log("created");
    return byFn;   <------------ í•µì‹¬ (í•¨ìˆ˜ëª…ìœ¼ë¡œ ì“°ê³  ()ë¥¼ ë¶™ì´ì§€ ì•Šë„¤) 
  }
  useEffect(hiFn, []);
  return <h1>Hello</h1>;
}
```
### 2ë²ˆì§¸ ë°©ë²• : arrouw function  () => {   }   // ê°€ì¥ ë§ì´ ì‚¬ìš©
```js  
// ì´ ë°©ë²•ì´ ê°„ë‹¨í•´ì„œ ë§ì´ ì”€ 
  useEffect(() => {
    console.log("hi");
    return () =>  console.log("bye");
  }, []);
```
### 3ë²ˆì§¸ ë°©ë²• : function () {} 
```js
useEffect(function () {
    console.log("hi");
    return function () {
      console.log("bye");
    }
  })
```
- ë³´í†µ ì´ë ‡ê²Œ hiFn, byFnì„ ë§Œë“¤ì§€ ì•Šê³  useEffect ì•ˆì— ë‹¤ ë„£ì–´ë²„ë¦°ë‹¤.
- 
## ğŸ¤” 05. Commnet 
